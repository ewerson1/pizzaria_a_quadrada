{"version":3,"file":"js/pedidos.16886814.js","mappings":"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","sources":["webpack://pizzaria_a_quadrada/./src/views/Pedidos.vue","webpack://pizzaria_a_quadrada/./src/components/Dashboard.vue","webpack://pizzaria_a_quadrada/./src/components/Dashboard.vue?b002","webpack://pizzaria_a_quadrada/./src/views/Pedidos.vue?d8a3"],"sourcesContent":["<template>\n  <div class=\"main-container\">\n    <h1>Gerenciar pedidos:</h1>\n    <Dashboard />\n  </div>\n</template>\n\n<script>\nimport Dashboard from \"../components/Dashboard.vue\"\nexport default {\n  name: \"Pedidos\",\n  components: {\n    Dashboard\n  },\n};\n</script>\n","<template>\r\n  <div id=\"pizza-table\">\r\n    <Message :msg=\"msg\" v-show=\"msg\"/>\r\n        <div>\r\n            <div id=\"pizza-table-heading\">\r\n                <div id=\"order-id\">#:</div>\r\n                <div>Cliente:</div>\r\n                <div>Massa:</div>\r\n                <div>Sabor:</div>\r\n                <div>Opcionais:</div>\r\n                <div>Ações:</div>\r\n            </div>\r\n        </div>\r\n        <div id=\"pizza-table-rows\">\r\n            <div class=\"pizza-table-row\" v-for=\"pizza in pizzas\" :key=\"pizza.id\">\r\n                <div class=\"order-number\">{{ pizza.id }}</div>\r\n                <div>{{ pizza.nome }}</div>\r\n                <div>{{ pizza.massas }}</div>\r\n                <div>{{ pizza.sabores }}</div>\r\n                <div>\r\n                    <ul>\r\n                        <li v-for=\"(opcional, index) in pizza.opcionais\" :key=\"index\"> {{ opcional }}</li>\r\n                    </ul>\r\n                </div>\r\n                <div>\r\n                    <select name=\"status\" class=\"status\" @change=\"updatePizza ($event,pizza.id)\" >\r\n                    <option  v-for=\"s in status\" :key=\"s.id\" :value=\"s.tipo\" :selected=\"pizza.status == s.tipo\" >{{ s.tipo }} </option>\r\n                   \r\n                    </select>\r\n                   \r\n                    <button class=\"delete-btn\" @click=\"deletePizza(pizza.id)\">Cancelar</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Message from \"./Message.vue\"\r\nexport default {\r\n  name: \"Dashboard\",\r\n  data(){\r\n    return{\r\n        pizzas: null,\r\n        pizzas_id: null,\r\n        status: [],\r\n        msg: null\r\n    }\r\n   },\r\n   components:{\r\n    Message\r\n   },\r\n\r\n   methods: {\r\n    async getPedidos (){\r\n        // buscando dados no servidor e usando (await) para esperar os dados chegar\r\n        const req = await fetch(\"http://localhost:3000/pizzas\");\r\n\r\n        // transformando o req em json e usando (await) para esperar transformar\r\n        const data = await req.json();\r\n\r\n        // transformando os dados da \"req\" em \"pizzas\" criado no data\r\n        this.pizzas = data;\r\n\r\n        // resgatar status\r\n        this.getStatus();\r\n    },\r\n    async getStatus(){\r\n        // buscando dados no servidor e usando (await) para esperar os dados chegar\r\n        const req = await fetch(\"http://localhost:3000/status\");\r\n\r\n        // transformando o req em json e usando (await) para esperar transformar  \r\n        const data = await req.json();\r\n\r\n        // transformando os dados da \"req\" em \"pizzas\" criado no data\r\n        this.status = data;\r\n   },\r\n\r\n   async deletePizza(id){\r\n        const req = await fetch(`http://localhost:3000/pizzas/${id}`,{\r\n            method: \"DELETE\"\r\n        });\r\n\r\n        const res = await req.json();\r\n\r\n\r\n        // msg ao cancelar pedido\r\n        this.msg = `Pedido Nº ${res.id} removido com sucesso ✅`;\r\n        // limpar msg\r\n        setTimeout(() => this.msg = \"\", 3000);\r\n        \r\n        this.getPedidos();\r\n   },\r\n\r\n   async updatePizza(event, id){\r\n        const option = event.target.value;\r\n\r\n\r\n        const dataJson= JSON.stringify({status: option});\r\n\r\n        const req = await fetch (`http://localhost:3000/pizzas/${id}`, {\r\n            method: \"PATCH\",\r\n            headers: {\"Content-Type\": \"application/json\" },\r\n            body: dataJson\r\n        });\r\n\r\n        const res = await req.json();\r\n\r\n         // msg ao cancelar pedido\r\n         this.msg = `Pedido Nº ${res.id} atualizado para ${res.status} `;\r\n        // limpar msg\r\n        setTimeout(() => this.msg = \"\", 3000);\r\n        \r\n        this.getPedidos();\r\n\r\n        console.log(res)\r\n\r\n\r\n   }\r\n\r\n},\r\n//    quando o componente for montado\r\n   mounted(){\r\n    this.getPedidos();\r\n   },\r\n  \r\n};\r\n\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n#pizza-table {\r\n  max-width: 1280px;\r\n  margin: 0 auto;\r\n}\r\n#pizza-table-heading,\r\n#pizza-table-rows,\r\n.pizza-table-row{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n#pizza-table-heading{\r\n    font-weight: bold;\r\n    padding: 12px;\r\n    border-bottom: 3px solid;\r\n}\r\n#pizza-table-heading div,\r\n.pizza-table-row div{\r\n    width: 19%;\r\n}\r\n\r\n.pizza-table-row{\r\n    width: 100%;\r\n    padding: 12px;\r\n    border-bottom: 1px solid #ccc;\r\n}\r\n\r\n#pizza-table-heading #order-id,\r\n.pizza-table-row .order-number{\r\n    width: 5%;\r\n}\r\n\r\nselect{\r\n    padding: 12px 6px;\r\n    margin-right: 12px;\r\n    border-radius: 0;\r\n}\r\n\r\n.delete-btn{\r\n    background-color: #222;\r\n    color: #fcba03;\r\n    font-weight: bold;\r\n    border: 2px solid #222;\r\n    padding: 10px;\r\n    font-size: 16px;\r\n    margin: 0 auto;\r\n    cursor: pointer;\r\n    transition: .5s;\r\n}\r\n\r\n.delete-btn:hover{\r\n    background-color: #fcba03;\r\n    color: #222;\r\n}\r\n\r\n</style>\r\n","import { render } from \"./Dashboard.vue?vue&type=template&id=2d04454a&scoped=true\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=2d04454a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2d04454a\"]])\n\nexport default __exports__","import { render } from \"./Pedidos.vue?vue&type=template&id=58932089\"\nimport script from \"./Pedidos.vue?vue&type=script&lang=js\"\nexport * from \"./Pedidos.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_Dashboard","id","_component_Message","msg","$data","_hoisted_3","_Fragment","_renderList","pizzas","pizza","key","_hoisted_4","_toDisplayString","nome","massas","sabores","opcionais","opcional","index","name","onChange","$event","$options","updatePizza","status","s","value","tipo","selected","_hoisted_6","_hoisted_5","onClick","deletePizza","_hoisted_7","data","pizzas_id","components","Message","methods","getPedidos","req","fetch","json","this","getStatus","method","res","setTimeout","event","option","target","dataJson","JSON","stringify","headers","body","console","log","mounted","__exports__","Dashboard","render"],"sourceRoot":""}